{"ast":null,"code":"import router from './router';\nimport store from './store';\nimport { Message } from 'element-ui';\nimport NProgress from 'nprogress';\nimport 'nprogress/nprogress.css';\nimport { getToken, removeToken } from '@/utils/token';\nNProgress.configure({\n  showSpinner: false\n});\nconst whiteList = ['/login', '/register', '/teacherRegister'];\nrouter.beforeEach((to, from, next) => {\n  NProgress.start();\n  console.log(getToken());\n  if (getToken()) {\n    if (whiteList.indexOf(to.path) !== -1) {\n      next(`/`);\n    }\n    next();\n  } else {\n    console.log(\"111111\");\n    // 没有token\n    if (whiteList.indexOf(to.path) !== -1) {\n      // 在免登录白名单，直接进入\n      next();\n    } else {\n      next(`/login`); // 否则全部重定向到登录页\n      NProgress.done();\n    }\n  }\n});\nrouter.afterEach(() => {\n  NProgress.done();\n});","map":{"version":3,"names":["router","store","Message","NProgress","getToken","removeToken","configure","showSpinner","whiteList","beforeEach","to","from","next","start","console","log","indexOf","path","done","afterEach"],"sources":["/Users/caominshan/Desktop/250625实训/46-SpringBoot+Vue在线学习教育平台/learn_front-master/src/permission.js"],"sourcesContent":["import router from './router'\r\nimport store from './store'\r\nimport { Message } from 'element-ui'\r\nimport NProgress from 'nprogress'\r\nimport 'nprogress/nprogress.css'\r\nimport { getToken,removeToken } from '@/utils/token'\r\n\r\nNProgress.configure({ showSpinner: false })\r\n\r\nconst whiteList = ['/login', '/register','/teacherRegister']\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n    NProgress.start()\r\n    console.log(getToken())\r\n    if(getToken()) {\r\n        if (whiteList.indexOf(to.path) !== -1) {\r\n            next(`/`)\r\n        }\r\n        next()\r\n    } else {\r\n        console.log(\"111111\")\r\n        // 没有token\r\n        if (whiteList.indexOf(to.path) !== -1) {\r\n            // 在免登录白名单，直接进入\r\n            next()\r\n        } else {\r\n            next(`/login`) // 否则全部重定向到登录页\r\n            NProgress.done()\r\n        }\r\n    }\r\n})\r\n\r\nrouter.afterEach(() => {\r\n    NProgress.done()\r\n})"],"mappings":"AAAA,OAAOA,MAAM,MAAM,UAAU;AAC7B,OAAOC,KAAK,MAAM,SAAS;AAC3B,SAASC,OAAO,QAAQ,YAAY;AACpC,OAAOC,SAAS,MAAM,WAAW;AACjC,OAAO,yBAAyB;AAChC,SAASC,QAAQ,EAACC,WAAW,QAAQ,eAAe;AAEpDF,SAAS,CAACG,SAAS,CAAC;EAAEC,WAAW,EAAE;AAAM,CAAC,CAAC;AAE3C,MAAMC,SAAS,GAAG,CAAC,QAAQ,EAAE,WAAW,EAAC,kBAAkB,CAAC;AAE5DR,MAAM,CAACS,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EAClCT,SAAS,CAACU,KAAK,CAAC,CAAC;EACjBC,OAAO,CAACC,GAAG,CAACX,QAAQ,CAAC,CAAC,CAAC;EACvB,IAAGA,QAAQ,CAAC,CAAC,EAAE;IACX,IAAII,SAAS,CAACQ,OAAO,CAACN,EAAE,CAACO,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE;MACnCL,IAAI,CAAC,GAAG,CAAC;IACb;IACAA,IAAI,CAAC,CAAC;EACV,CAAC,MAAM;IACHE,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC;IACrB;IACA,IAAIP,SAAS,CAACQ,OAAO,CAACN,EAAE,CAACO,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE;MACnC;MACAL,IAAI,CAAC,CAAC;IACV,CAAC,MAAM;MACHA,IAAI,CAAC,QAAQ,CAAC,EAAC;MACfT,SAAS,CAACe,IAAI,CAAC,CAAC;IACpB;EACJ;AACJ,CAAC,CAAC;AAEFlB,MAAM,CAACmB,SAAS,CAAC,MAAM;EACnBhB,SAAS,CAACe,IAAI,CAAC,CAAC;AACpB,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}