{"ast":null,"code":"import { getApeQuestionPage, saveApeQuestion } from '../../api/api';\nimport headerPage from \"../../components/header/header\";\nimport bottomPage from \"../../components/bottom/bottom\";\nexport default {\n  data() {\n    return {\n      taskId: \"\",\n      user: {},\n      pageSize: 10,\n      pageNumber: 1,\n      tableData: [],\n      total: 0,\n      content: \"\"\n    };\n  },\n  components: {\n    headerPage,\n    bottomPage\n  },\n  methods: {\n    add() {\n      var param = {\n        taskId: this.taskId,\n        content: this.content\n      };\n      saveApeQuestion(param).then(res => {\n        if (res.code == 1000) {\n          this.$message({\n            message: '提问成功，请等待教师回复',\n            type: 'success'\n          });\n          this.refresh();\n          this.query();\n        } else {\n          this.$notify.error({\n            title: '错误',\n            message: res.message\n          });\n        }\n      });\n    },\n    refresh() {\n      this.content = \"\";\n    },\n    handleCurrentChange(val) {\n      this.pageNumber = val;\n      this.query();\n    },\n    query() {\n      var param = {\n        taskId: this.taskId,\n        userId: this.user.id,\n        pageSize: this.pageSize,\n        pageNumber: this.pageNumber\n      };\n      getApeQuestionPage(param).then(res => {\n        if (res.code == 1000) {\n          this.tableData = res.data.records;\n          this.total = res.data.total;\n        } else {\n          this.$notify.error({\n            title: '错误',\n            message: res.message\n          });\n        }\n      });\n    }\n  },\n  created() {},\n  mounted() {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n    this.taskId = this.$route.query.id;\n    this.user = JSON.parse(window.localStorage.getItem(\"user_info\"));\n    this.query();\n  }\n};","map":{"version":3,"names":["getApeQuestionPage","saveApeQuestion","headerPage","bottomPage","data","taskId","user","pageSize","pageNumber","tableData","total","content","components","methods","add","param","then","res","code","$message","message","type","refresh","query","$notify","error","title","handleCurrentChange","val","userId","id","records","created","mounted","window","scrollTo","top","behavior","$route","JSON","parse","localStorage","getItem"],"sources":["src/views/question/question.vue"],"sourcesContent":["<template>\r\n  <div class=\"message\">\r\n    <headerPage></headerPage>\r\n    <div class=\"message-page-content\">\r\n        <div class=\"message-page-add\">\r\n            <div style=\"width:90%;margin-top:20px\">\r\n                <div style=\"margin-bottom:10px\">答疑：</div>\r\n                <el-input type=\"textarea\" resize=\"none\" rows=\"12\" v-model=\"content\" placeholder=\"请输入内容\"></el-input>\r\n                <div class=\"message-page-btns\">\r\n                    <el-button size=\"mini\" icon=\"el-icon-message\" type=\"primary\" plain @click=\"add\">提交</el-button>\r\n                    <el-button size=\"mini\" icon=\"el-icon-refresh\" type=\"warning\" plain @click=\"refresh\">清除</el-button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"message-page-title\">\r\n            我的答疑\r\n        </div>\r\n        <div class=\"message-page-list\">\r\n            <div v-for=\"(item,index) in tableData\" :key=\"index\" class=\"message-page-item\">\r\n                <div class=\"message-page-top\">\r\n                    <div style=\"margin-left:20px\">\r\n                        {{index + 1}}. {{item.content}}\r\n                    </div>\r\n                    <div style=\"margin-right:20px\">\r\n                        <i class=\"el-icon-success\"></i>\r\n                    </div>\r\n                </div>\r\n                <div class=\"messsage-page-huifu\">\r\n                    <span style=\"margin-left: 20px;margin-right: 10px;font-weight:bold\">回复内容：</span>{{item.answer?item.answer:\"未回复\"}}\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"message-page-fenye\">\r\n            <el-pagination\r\n            background\r\n            :page-size=\"pageSize\"\r\n            layout=\"prev, pager, next\"\r\n            @current-change=\"handleCurrentChange\"\r\n            :total=\"total\">\r\n            </el-pagination>\r\n        </div>\r\n        <div class=\"message-page-bottom\">\r\n            <img style=\"width:100%\" src=\"../../assets/image/02.png\">\r\n        </div>\r\n    </div>\r\n    <bottomPage></bottomPage>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {getApeQuestionPage,saveApeQuestion} from '../../api/api' \r\n  import headerPage from \"../../components/header/header\"\r\n  import bottomPage from \"../../components/bottom/bottom\"\r\n  export default {\r\n    data() {\r\n      return{\r\n        taskId: \"\",\r\n        user: {},\r\n        pageSize: 10,\r\n        pageNumber: 1,\r\n        tableData: [],\r\n        total: 0,\r\n        content: \"\"\r\n      }\r\n    },\r\n    components: {\r\n      headerPage,\r\n      bottomPage\r\n    },\r\n    methods: {\r\n        add() {\r\n          var param = {\r\n            taskId: this.taskId,\r\n            content: this.content\r\n          }\r\n          saveApeQuestion(param).then(res => {\r\n            if(res.code == 1000) {\r\n              this.$message({\r\n\t\t\t\t\t\t\t\tmessage: '提问成功，请等待教师回复',\r\n\t\t\t\t\t\t\t\ttype: 'success'\r\n              });\r\n              this.refresh()\r\n              this.query()\r\n            } else {\r\n              this.$notify.error({\r\n                title: '错误',\r\n                message: res.message\r\n              });\r\n            }\r\n          })\r\n        },\r\n        refresh() {\r\n            this.content = \"\"\r\n        },\r\n        handleCurrentChange(val) {\r\n          this.pageNumber = val\r\n          this.query()\r\n        },\r\n        query() {\r\n          var param = {\r\n            taskId: this.taskId,\r\n            userId: this.user.id,\r\n            pageSize: this.pageSize,\r\n            pageNumber: this.pageNumber,\r\n          }\r\n          getApeQuestionPage(param).then(res => {\r\n            if(res.code == 1000) {\r\n              this.tableData = res.data.records\r\n              this.total = res.data.total\r\n            } else {\r\n              this.$notify.error({\r\n                title: '错误',\r\n                message: res.message\r\n              });\r\n            }\r\n          })\r\n        }\r\n    },\r\n    created() {\r\n     \r\n    },\r\n    mounted() {\r\n      window.scrollTo({\r\n        top: 0,\r\n        behavior: 'smooth'\r\n      });\r\n      this.taskId = this.$route.query.id\r\n      this.user = JSON.parse(window.localStorage.getItem(\"user_info\"))\r\n      this.query()\r\n    }\r\n }\r\n</script>\r\n\r\n<style scoped>\r\n  @import url(\"../../assets/css/message/message.css\");\r\n</style>"],"mappings":"AAkDA,SAAAA,kBAAA,EAAAC,eAAA;AACA,OAAAC,UAAA;AACA,OAAAC,UAAA;AACA;EACAC,KAAA;IACA;MACAC,MAAA;MACAC,IAAA;MACAC,QAAA;MACAC,UAAA;MACAC,SAAA;MACAC,KAAA;MACAC,OAAA;IACA;EACA;EACAC,UAAA;IACAV,UAAA;IACAC;EACA;EACAU,OAAA;IACAC,IAAA;MACA,IAAAC,KAAA;QACAV,MAAA,OAAAA,MAAA;QACAM,OAAA,OAAAA;MACA;MACAV,eAAA,CAAAc,KAAA,EAAAC,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACA,KAAAC,QAAA;YACAC,OAAA;YACAC,IAAA;UACA;UACA,KAAAC,OAAA;UACA,KAAAC,KAAA;QACA;UACA,KAAAC,OAAA,CAAAC,KAAA;YACAC,KAAA;YACAN,OAAA,EAAAH,GAAA,CAAAG;UACA;QACA;MACA;IACA;IACAE,QAAA;MACA,KAAAX,OAAA;IACA;IACAgB,oBAAAC,GAAA;MACA,KAAApB,UAAA,GAAAoB,GAAA;MACA,KAAAL,KAAA;IACA;IACAA,MAAA;MACA,IAAAR,KAAA;QACAV,MAAA,OAAAA,MAAA;QACAwB,MAAA,OAAAvB,IAAA,CAAAwB,EAAA;QACAvB,QAAA,OAAAA,QAAA;QACAC,UAAA,OAAAA;MACA;MACAR,kBAAA,CAAAe,KAAA,EAAAC,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACA,KAAAT,SAAA,GAAAQ,GAAA,CAAAb,IAAA,CAAA2B,OAAA;UACA,KAAArB,KAAA,GAAAO,GAAA,CAAAb,IAAA,CAAAM,KAAA;QACA;UACA,KAAAc,OAAA,CAAAC,KAAA;YACAC,KAAA;YACAN,OAAA,EAAAH,GAAA,CAAAG;UACA;QACA;MACA;IACA;EACA;EACAY,QAAA,GAEA;EACAC,QAAA;IACAC,MAAA,CAAAC,QAAA;MACAC,GAAA;MACAC,QAAA;IACA;IACA,KAAAhC,MAAA,QAAAiC,MAAA,CAAAf,KAAA,CAAAO,EAAA;IACA,KAAAxB,IAAA,GAAAiC,IAAA,CAAAC,KAAA,CAAAN,MAAA,CAAAO,YAAA,CAAAC,OAAA;IACA,KAAAnB,KAAA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}