{"ast":null,"code":"import { getApeTaskById, getTaskChapterStudy } from \"../../api/api\";\nimport headerPage from \"../../components/header/header\";\nimport bottomPage from \"../../components/bottom/bottom\";\nexport default {\n  data() {\n    return {\n      taskId: \"\",\n      task: {},\n      chapter: [],\n      video: 0,\n      wancheng: 0,\n      home: 0,\n      wancheng1: 0\n    };\n  },\n  components: {\n    headerPage,\n    bottomPage\n  },\n  methods: {\n    getAgree() {\n      var total = this.video + this.home;\n      var wan = this.wancheng1 + this.wancheng;\n      var score = (wan / total * this.task.proportion).toFixed(2);\n      var title = \"不及格\";\n      if (score < 60) {\n        title = \"不及格\";\n      }\n      if (score >= 60) {\n        title = \"及格\";\n      }\n      if (score >= 75) {\n        title = \"良好\";\n      }\n      if (score >= 90) {\n        title = \"优\";\n      }\n      return title;\n    },\n    getScore() {\n      var total = this.video + this.home;\n      var wan = this.wancheng1 + this.wancheng;\n      return (wan / total * this.task.proportion).toFixed(2);\n    },\n    getApeTaskById() {\n      getApeTaskById({\n        id: this.taskId\n      }).then(res => {\n        if (res.code == 1000) {\n          this.task = res.data;\n        }\n      });\n    },\n    getTaskChapterStudy() {\n      getTaskChapterStudy({\n        id: this.taskId\n      }).then(res => {\n        if (res.code == 1000) {\n          this.chapter = res.data;\n          this.video = this.chapter.length;\n          for (let i = 0; i < this.chapter.length; i++) {\n            var item = this.chapter[i];\n            if (item.homework == 1) {\n              this.home = this.home + 1;\n            }\n            if (item.home == '已完成') {\n              this.wancheng1 = this.wancheng1 + 1;\n            }\n            if (item.videoFlag == '已完成') {\n              this.wancheng = this.wancheng + 1;\n            }\n          }\n        }\n      });\n    }\n  },\n  created() {},\n  mounted() {\n    var taskId = this.$route.query.id;\n    if (taskId) {\n      this.taskId = taskId;\n    }\n    this.getApeTaskById();\n    this.getTaskChapterStudy();\n  }\n};","map":{"version":3,"names":["getApeTaskById","getTaskChapterStudy","headerPage","bottomPage","data","taskId","task","chapter","video","wancheng","home","wancheng1","components","methods","getAgree","total","wan","score","proportion","toFixed","title","getScore","id","then","res","code","length","i","item","homework","videoFlag","created","mounted","$route","query"],"sources":["src/views/task/rateOfLearning.vue"],"sourcesContent":["<template>\r\n  <div class=\"rateOfLearning\">\r\n    <headerPage></headerPage>\r\n    <div class=\"learning-content\">\r\n        <div class=\"learning-top\">\r\n            <div class=\"learning-taskName\">{{task.name}}</div>\r\n            <div class=\"learning-desc\">\r\n                <div>视频：{{wancheng}}/{{video}}</div>\r\n                <div>作业：{{wancheng1}}/{{home}}</div>\r\n                <div>得分：{{getScore()}}</div>\r\n                <div>成绩：{{getAgree()}}</div>\r\n            </div>\r\n            <div class=\"learning-list\">\r\n                 <div v-for=\"(item,index) in chapter\" :key=\"index\" class=\"learning-item\">\r\n                     <div style=\"margin-left:20px\">{{item.name}}</div>\r\n                     <div>视频：{{item.videoFlag}}</div>\r\n                     <div style=\"margin-right:20px\">作业：{{item.home}}</div>\r\n                 </div>\r\n            </div>\r\n        </div>\r\n    </div> \r\n    <bottomPage></bottomPage>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {getApeTaskById,getTaskChapterStudy} from \"../../api/api\"\r\n  import headerPage from \"../../components/header/header\"\r\n  import bottomPage from \"../../components/bottom/bottom\"\r\n  export default {\r\n    data() {\r\n      return{\r\n        taskId: \"\",\r\n        task: {},\r\n        chapter: [],\r\n        video: 0,\r\n        wancheng: 0,\r\n        home: 0,\r\n        wancheng1: 0\r\n      }\r\n    },\r\n    components: {\r\n      headerPage,\r\n      bottomPage\r\n    },\r\n    methods: {\r\n        getAgree() {\r\n            var total = this.video + this.home\r\n            var wan = this.wancheng1 + this.wancheng\r\n            var score = (wan/total * this.task.proportion).toFixed(2)\r\n            var title = \"不及格\"\r\n            if(score < 60) {\r\n                title = \"不及格\"\r\n            }\r\n            if(score >= 60) {\r\n                title = \"及格\"\r\n            }\r\n            if(score >= 75) {\r\n                title = \"良好\"\r\n            }\r\n            if(score >= 90) {\r\n                title = \"优\"\r\n            }\r\n            return title\r\n        },\r\n        getScore() {\r\n            var total = this.video + this.home\r\n            var wan = this.wancheng1 + this.wancheng\r\n            return (wan/total * this.task.proportion).toFixed(2)\r\n        },\r\n        getApeTaskById() {\r\n            getApeTaskById({id: this.taskId}).then(res => {\r\n                if(res.code == 1000) {\r\n                    this.task = res.data\r\n                }\r\n            })\r\n        },\r\n        getTaskChapterStudy() {\r\n            getTaskChapterStudy({id:this.taskId}).then(res => {\r\n                if(res.code == 1000) {\r\n                    this.chapter = res.data\r\n                    this.video = this.chapter.length\r\n                    for(let i = 0;i<this.chapter.length;i++) {\r\n                        var item = this.chapter[i]\r\n                        if (item.homework == 1) {\r\n                            this.home = this.home + 1\r\n                        }\r\n                        if (item.home == '已完成') {\r\n                            this.wancheng1 = this.wancheng1 + 1\r\n                        }\r\n                        if (item.videoFlag == '已完成') {\r\n                            this.wancheng = this.wancheng + 1\r\n                        }\r\n                    }\r\n                }\r\n            })\r\n        }\r\n    },\r\n    created() {\r\n     \r\n    },\r\n    mounted() {\r\n      var taskId = this.$route.query.id\r\n      if (taskId) {\r\n          this.taskId = taskId\r\n      }\r\n      this.getApeTaskById()\r\n      this.getTaskChapterStudy()\r\n    }\r\n }\r\n</script>\r\n\r\n<style scoped>\r\n  .rateOfLearning {\r\n      width: 100%;\r\n      height: 100%;\r\n  }\r\n  .learning-content {\r\n      width: 100%;\r\n      min-height: 550px;\r\n      background: url('../../assets/image/index/index_back.png');\r\n      display: flex;\r\n      justify-content: center;\r\n      font-family: '黑体';\r\n  }\r\n  .learning-top {\r\n      width: 70%;\r\n  }\r\n  .learning-taskName {\r\n      margin-top: 30px;\r\n      font-size: 30px;\r\n  }\r\n  .learning-desc {\r\n      font-size: 20px;\r\n      display: flex;\r\n      justify-content: space-around;\r\n      align-items: center;\r\n      margin-top: 20px;\r\n      width: 100%;\r\n      height: 100px;\r\n      border: 2px solid #EFF1F2;\r\n      border-radius: 10px;\r\n  }\r\n  .learning-list {\r\n      margin-top: 20px;\r\n      width: 100%;\r\n      min-height: 400px;\r\n      border: 2px solid #EFF1F2;\r\n      border-radius: 10px;\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: center\r\n  }\r\n  .learning-item {\r\n      width: 98%;\r\n      height: 40px;\r\n      background-color: #EAECFE;\r\n      margin-top: 10px;\r\n      border-radius: 7px;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n  }\r\n</style>"],"mappings":"AA0BA,SAAAA,cAAA,EAAAC,mBAAA;AACA,OAAAC,UAAA;AACA,OAAAC,UAAA;AACA;EACAC,KAAA;IACA;MACAC,MAAA;MACAC,IAAA;MACAC,OAAA;MACAC,KAAA;MACAC,QAAA;MACAC,IAAA;MACAC,SAAA;IACA;EACA;EACAC,UAAA;IACAV,UAAA;IACAC;EACA;EACAU,OAAA;IACAC,SAAA;MACA,IAAAC,KAAA,QAAAP,KAAA,QAAAE,IAAA;MACA,IAAAM,GAAA,QAAAL,SAAA,QAAAF,QAAA;MACA,IAAAQ,KAAA,IAAAD,GAAA,GAAAD,KAAA,QAAAT,IAAA,CAAAY,UAAA,EAAAC,OAAA;MACA,IAAAC,KAAA;MACA,IAAAH,KAAA;QACAG,KAAA;MACA;MACA,IAAAH,KAAA;QACAG,KAAA;MACA;MACA,IAAAH,KAAA;QACAG,KAAA;MACA;MACA,IAAAH,KAAA;QACAG,KAAA;MACA;MACA,OAAAA,KAAA;IACA;IACAC,SAAA;MACA,IAAAN,KAAA,QAAAP,KAAA,QAAAE,IAAA;MACA,IAAAM,GAAA,QAAAL,SAAA,QAAAF,QAAA;MACA,QAAAO,GAAA,GAAAD,KAAA,QAAAT,IAAA,CAAAY,UAAA,EAAAC,OAAA;IACA;IACAnB,eAAA;MACAA,cAAA;QAAAsB,EAAA,OAAAjB;MAAA,GAAAkB,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACA,KAAAnB,IAAA,GAAAkB,GAAA,CAAApB,IAAA;QACA;MACA;IACA;IACAH,oBAAA;MACAA,mBAAA;QAAAqB,EAAA,OAAAjB;MAAA,GAAAkB,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACA,KAAAlB,OAAA,GAAAiB,GAAA,CAAApB,IAAA;UACA,KAAAI,KAAA,QAAAD,OAAA,CAAAmB,MAAA;UACA,SAAAC,CAAA,MAAAA,CAAA,QAAApB,OAAA,CAAAmB,MAAA,EAAAC,CAAA;YACA,IAAAC,IAAA,QAAArB,OAAA,CAAAoB,CAAA;YACA,IAAAC,IAAA,CAAAC,QAAA;cACA,KAAAnB,IAAA,QAAAA,IAAA;YACA;YACA,IAAAkB,IAAA,CAAAlB,IAAA;cACA,KAAAC,SAAA,QAAAA,SAAA;YACA;YACA,IAAAiB,IAAA,CAAAE,SAAA;cACA,KAAArB,QAAA,QAAAA,QAAA;YACA;UACA;QACA;MACA;IACA;EACA;EACAsB,QAAA,GAEA;EACAC,QAAA;IACA,IAAA3B,MAAA,QAAA4B,MAAA,CAAAC,KAAA,CAAAZ,EAAA;IACA,IAAAjB,MAAA;MACA,KAAAA,MAAA,GAAAA,MAAA;IACA;IACA,KAAAL,cAAA;IACA,KAAAC,mBAAA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}