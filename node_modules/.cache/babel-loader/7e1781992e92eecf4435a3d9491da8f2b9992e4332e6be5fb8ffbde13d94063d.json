{"ast":null,"code":"import { getApeForumById, getApeForumItemList, saveApeForumItem } from '../../api/api';\nimport headerPage from \"../../components/header/header\";\nimport bottomPage from \"../../components/bottom/bottom\";\nexport default {\n  data() {\n    return {\n      id: \"\",\n      user: {},\n      forum: {},\n      content: \"\",\n      forumList: []\n    };\n  },\n  components: {\n    headerPage,\n    bottomPage\n  },\n  methods: {\n    saveApeForumItem() {\n      if (!this.content) {\n        this.$message({\n          type: 'warning',\n          message: '请输入讨论内容'\n        });\n        return;\n      }\n      var param = {\n        forumId: this.id,\n        content: this.content\n      };\n      saveApeForumItem(param).then(res => {\n        if (res.code == 1000) {\n          this.$message({\n            type: 'success',\n            message: '发布讨论内容成功!'\n          });\n          this.content = \"\";\n          this.getApeForumItemList();\n        }\n      });\n    },\n    getApeForumById() {\n      getApeForumById({\n        id: this.id\n      }).then(res => {\n        if (res.code == 1000) {\n          this.forum = res.data;\n        }\n      });\n    },\n    getApeForumItemList() {\n      var param = {\n        forumId: this.id\n      };\n      getApeForumItemList().then(res => {\n        if (res.code == 1000) {\n          this.forumList = res.data;\n        }\n      });\n    }\n  },\n  created() {},\n  mounted() {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n    this.id = this.$route.query.id;\n    this.getApeForumById();\n    this.getApeForumItemList();\n  }\n};","map":{"version":3,"names":["getApeForumById","getApeForumItemList","saveApeForumItem","headerPage","bottomPage","data","id","user","forum","content","forumList","components","methods","$message","type","message","param","forumId","then","res","code","created","mounted","window","scrollTo","top","behavior","$route","query"],"sources":["src/views/forum/forumInfo.vue"],"sourcesContent":["<template>\r\n  <div class=\"articleInfo\">\r\n      <headerPage></headerPage>\r\n      <div class=\"articleInfo-content\">\r\n          <div class=\"articleInfo-title\">\r\n              <div>\r\n                  <div class=\"articleInfo-title1\">{{forum.name}}</div>\r\n                  <div class=\"articleInfo-title2\">{{forum.createBy}} - {{forum.createTime}}</div>\r\n                  <div class=\"articleInfo-title2\">{{forum.content}}</div>\r\n              </div>\r\n          </div>\r\n      </div>\r\n      <div class=\"articleInfo-bottom\">\r\n        <div class=\"articleInfo-comment\">\r\n            <div class=\"articleInfo-comment-font\">发布讨论内容：</div>\r\n            <div class=\"articleInfo-comment-content\">\r\n                <el-input type=\"textarea\" resize=\"none\" rows=\"7\" v-model=\"content\" placeholder=\"请输入讨论内容\"></el-input>\r\n                <div class=\"articleInfo-comment-btn\">\r\n                    <el-button @click=\"saveApeForumItem\" style=\"margin-top:10px\" size=\"mini\" type=\"success\" plain>提交</el-button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"articleInfo-bottom\">\r\n        <div class=\"articleInfo-comment\">\r\n            <div class=\"articleInfo-comment-font\">内容列表：</div>\r\n            <div v-if=\"forumList.length <= 0\" style=\"border: 2px solid #EFF1F2;border-radius: 7px;\">\r\n                <el-empty description=\"讨论还没有内容，快去发表吧！\"></el-empty>\r\n            </div>\r\n            <div v-if=\"forumList.length > 0\" class=\"taskInfo-comment-list\">\r\n                <div v-for=\"(item,index) in forumList\" :key=\"index\">\r\n                    <div v-if=\"(index+1)%2 == 1\" class=\"taskInfo-comment-item\">\r\n                        <div>\r\n                            <img style=\"width:40px;height:40px;border-radius:50%\" :src=\"$store.state.HOST + item.userAvatar\">\r\n                        </div>\r\n                        <div style=\"width:80%\">\r\n                            <div class=\"taskInfo-comment-item1\">{{item.userName}}</div>\r\n                            <div class=\"taskInfo-comment-item2\"><div style=\"padding-top:10px;padding-bottom:10px;margin-left:10px\">{{item.content}}</div></div>\r\n                        </div>\r\n                    </div>\r\n                    <div v-if=\"(index+1)%2 == 0\" class=\"taskInfo-comment-item-right\">\r\n                        <div style=\"width:60%;display:flex;flex-direction: column;align-items: flex-end;margin-right:15px\">\r\n                            <div class=\"taskInfo-comment-item1\">{{item.userName}}</div>\r\n                            <div class=\"taskInfo-comment-item3\"><div style=\"padding-top:10px;padding-bottom:10px;margin-left:10px\">{{item.content}}</div></div>\r\n                        </div>\r\n                        <div>\r\n                            <img style=\"width:40px;height:40px;border-radius:50%\" :src=\"$store.state.HOST + item.userAvatar\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n      <bottomPage></bottomPage>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {getApeForumById,getApeForumItemList,saveApeForumItem} from '../../api/api' \r\n  import headerPage from \"../../components/header/header\"\r\n  import bottomPage from \"../../components/bottom/bottom\"\r\n  export default {\r\n    data() {\r\n      return{\r\n        id: \"\",\r\n        user: {},\r\n        forum: {},\r\n        content: \"\",\r\n        forumList: []\r\n      }\r\n    },\r\n    components: {\r\n      headerPage,\r\n      bottomPage\r\n    },\r\n    methods: {\r\n      saveApeForumItem() {\r\n          if (!this.content) {\r\n            this.$message({\r\n              type: 'warning',\r\n              message: '请输入讨论内容'\r\n            });\r\n            return\r\n          }\r\n          var param = {\r\n              forumId:this.id,\r\n              content: this.content\r\n          }\r\n          saveApeForumItem(param).then(res => {\r\n              if (res.code == 1000) {\r\n                  this.$message({\r\n                    type: 'success',\r\n                    message: '发布讨论内容成功!'\r\n                  });\r\n                  this.content = \"\"\r\n                  this.getApeForumItemList()\r\n              }\r\n          })\r\n      },\r\n      getApeForumById() {\r\n          getApeForumById({id:this.id}).then(res => {\r\n              if (res.code == 1000) {\r\n                  this.forum = res.data\r\n              }\r\n          })\r\n      },\r\n      getApeForumItemList() {\r\n          var param = {\r\n              forumId: this.id\r\n          }\r\n          getApeForumItemList().then(res => {\r\n              if (res.code == 1000) {\r\n                  this.forumList = res.data\r\n              }\r\n          })\r\n      }\r\n    },\r\n    created() {\r\n     \r\n    },\r\n    mounted() {\r\n      window.scrollTo({\r\n        top: 0,\r\n        behavior: 'smooth'\r\n      });\r\n      this.id = this.$route.query.id\r\n      this.getApeForumById()\r\n      this.getApeForumItemList()\r\n    }\r\n }\r\n</script>\r\n\r\n<style scoped>\r\n  @import url(\"../../assets/css/article/articleInfo.css\"); \r\n  ::v-deep img {\r\n    max-width: 100% !important;\r\n  }\r\n</style>"],"mappings":"AA0DA,SAAAA,eAAA,EAAAC,mBAAA,EAAAC,gBAAA;AACA,OAAAC,UAAA;AACA,OAAAC,UAAA;AACA;EACAC,KAAA;IACA;MACAC,EAAA;MACAC,IAAA;MACAC,KAAA;MACAC,OAAA;MACAC,SAAA;IACA;EACA;EACAC,UAAA;IACAR,UAAA;IACAC;EACA;EACAQ,OAAA;IACAV,iBAAA;MACA,UAAAO,OAAA;QACA,KAAAI,QAAA;UACAC,IAAA;UACAC,OAAA;QACA;QACA;MACA;MACA,IAAAC,KAAA;QACAC,OAAA,OAAAX,EAAA;QACAG,OAAA,OAAAA;MACA;MACAP,gBAAA,CAAAc,KAAA,EAAAE,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACA,KAAAP,QAAA;YACAC,IAAA;YACAC,OAAA;UACA;UACA,KAAAN,OAAA;UACA,KAAAR,mBAAA;QACA;MACA;IACA;IACAD,gBAAA;MACAA,eAAA;QAAAM,EAAA,OAAAA;MAAA,GAAAY,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACA,KAAAZ,KAAA,GAAAW,GAAA,CAAAd,IAAA;QACA;MACA;IACA;IACAJ,oBAAA;MACA,IAAAe,KAAA;QACAC,OAAA,OAAAX;MACA;MACAL,mBAAA,GAAAiB,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACA,KAAAV,SAAA,GAAAS,GAAA,CAAAd,IAAA;QACA;MACA;IACA;EACA;EACAgB,QAAA,GAEA;EACAC,QAAA;IACAC,MAAA,CAAAC,QAAA;MACAC,GAAA;MACAC,QAAA;IACA;IACA,KAAApB,EAAA,QAAAqB,MAAA,CAAAC,KAAA,CAAAtB,EAAA;IACA,KAAAN,eAAA;IACA,KAAAC,mBAAA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}