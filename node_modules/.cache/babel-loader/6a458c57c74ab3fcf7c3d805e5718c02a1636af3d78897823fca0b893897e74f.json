{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { login, getUser } from '../../api/api';\nimport bottomPage from \"../../components/bottom/login-bottom\";\nexport default {\n  data() {\n    return {\n      userInfo: {\n        username: \"\",\n        password: \"\"\n      },\n      rules: {\n        username: [{\n          required: true,\n          message: '请输入用户账号',\n          trigger: 'blur'\n        }],\n        password: [{\n          required: true,\n          message: '请输入用户密码',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  components: {\n    bottomPage\n  },\n  methods: {\n    toRegister() {\n      this.$router.push(\"/register\");\n    },\n    toTeacherRegister() {\n      this.$router.push(\"/teacherRegister\");\n    },\n    toLogin() {\n      this.$refs[\"ruleForm\"].validate(valid => {\n        if (valid) {\n          var params = {\n            username: this.userInfo.username,\n            password: this.userInfo.password\n          };\n          login(params).then(res => {\n            if (res.code == 1000) {\n              this.$message({\n                message: '登陆成功',\n                type: 'success'\n              });\n              var that = this;\n              var token = res.data.token;\n              window.localStorage.setItem(\"user_token\", token);\n              this.getUserInfo();\n              setTimeout(function () {\n                that.$router.push(\"/\");\n              }, 500);\n            } else {\n              this.$message.error(res.message);\n            }\n          });\n        } else {\n          return false;\n        }\n      });\n    },\n    getUserInfo() {\n      getUser().then(res => {\n        if (res.code == 1000) {\n          window.localStorage.setItem(\"user_info\", JSON.stringify(res.data));\n        }\n      });\n    }\n  },\n  created() {},\n  mounted() {}\n};","map":{"version":3,"names":["login","getUser","bottomPage","data","userInfo","username","password","rules","required","message","trigger","components","methods","toRegister","$router","push","toTeacherRegister","toLogin","$refs","validate","valid","params","then","res","code","$message","type","that","token","window","localStorage","setItem","getUserInfo","setTimeout","error","JSON","stringify","created","mounted"],"sources":["src/views/login/login.vue"],"sourcesContent":["<template>\r\n  <div class=\"login\">\r\n\t<div class=\"login-top\">\r\n\t\t<div class=\"logo\">\r\n\t\t\t<img style=\"width:100px;padding-left:100px\" src=\"../../assets/image/logo.png\">\r\n\t\t</div>\r\n\t\t<div class=\"btns\">\r\n\t\t\t<div style=\"padding-right:100px;display:flex\">\r\n\t\t\t\t<div class=\"toReg\" @click=\"toRegister\">\r\n\t\t\t\t\t<div>注册</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"toRegTeacher\" @click=\"toTeacherRegister\">\r\n\t\t\t\t\t<div>教师入驻</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class=\"login-center\">\r\n\t\t<div class=\"login-content\">\r\n\t\t\t<div style=\"padding-left: 100px;\">\r\n\t\t\t\t<div class=\"title\">\r\n\t\t\t\t\t<div>STUDY FROM</div>\r\n\t\t\t\t\t<div>HOME WITH EXPERT</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style=\"color:#181818;font-family:'黑体'\">在线学习教育平台，一个在家就能学习的平台</div>\r\n\t\t\t\t<div style=\"margin-top:20px;color:#181818;font-family:'黑体'\">\r\n\t\t\t\t\t<div>| 我们都得经历一段努力闭嘴不抱怨的时光，</div>\r\n\t\t\t\t\t<div>| 才能熠熠生辉，才能去更酷的地方，成为更酷的人。</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style=\"margin-top:20px;color:#181818;font-family:'黑体'\">\r\n\t\t\t\t\t<div>| 最好的生活状态：一个人时，安静而丰盛</div>\r\n\t\t\t\t\t<div>| ；两个人是，温暖而踏实。</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style=\"margin-top:30px;display:flex;justify-content: space-between\">\r\n\t\t\t\t\t<img style=\"width:20%\" src=\"../../assets/image/login_image.png\">\r\n\t\t\t\t\t<img style=\"width:25%;padding-right:30px\" src=\"../../assets/image/login-jiantou.png\">\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"login-form\">\r\n\t\t\t<div class=\"jiantou1\">\r\n\t\t\t\t<img src=\"../../assets/image/jiantou1.png\">\r\n\t\t\t</div>\r\n\t\t\t<div class=\"jiantou2\">\r\n\t\t\t\t<img src=\"../../assets/image/jiantou2.png\">\r\n\t\t\t</div>\r\n\t\t\t<div class=\"yuan\">\r\n\t\t\t\t<img src=\"../../assets/image/yuan.png\">\r\n\t\t\t</div>\r\n\t\t\t<div class=\"form\">\r\n\t\t\t\t<div class=\"login-title\">在线学习教育平台</div>\r\n\t\t\t\t<div style=\"width:100%\">\r\n\t\t\t\t\t<el-form style=\"width:100%\" :model=\"userInfo\" :rules=\"rules\" ref=\"ruleForm\" class=\"demo-ruleForm\">\r\n\t\t\t\t\t\t<el-form-item  prop=\"username\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"userInfo.username\" placeholder=\"请输入用户账号\"></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t<el-form-item  prop=\"password\">\r\n\t\t\t\t\t\t\t<el-input type=\"password\" v-model=\"userInfo.password\" placeholder=\"请输入用户密码\"></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-form>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"login-btn\" @click=\"toLogin()\">\r\n\t\t\t\t\t<div>登 陆</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {login,getUser} from '../../api/api'\r\n  import bottomPage from \"../../components/bottom/login-bottom\"\r\n  export default {\r\n\tdata() {\r\n\t  return{\r\n\t\tuserInfo: {\r\n\t\t\tusername: \"\",\r\n\t\t\tpassword: \"\"\r\n\t\t},\r\n\t\trules: {\r\n          username: [\r\n            { required: true, message: '请输入用户账号', trigger: 'blur' },\r\n          ],\r\n          password: [\r\n            { required: true, message: '请输入用户密码', trigger: 'blur' }\r\n          ],\r\n        }\r\n\t  }\r\n\t},\r\n\tcomponents: {\r\n        bottomPage\r\n\t},\r\n\tmethods: {\r\n\t\ttoRegister() {\r\n\t\t\tthis.$router.push(\"/register\")\r\n\t\t},\r\n\t\ttoTeacherRegister() {\r\n\t\t\tthis.$router.push(\"/teacherRegister\")\r\n\t\t},\r\n\t\ttoLogin() {\r\n\t\t\tthis.$refs[\"ruleForm\"].validate((valid) => {\r\n\t\t\t\tif (valid) {\r\n\t\t\t\t\tvar params = {\r\n\t\t\t\t\t\tusername: this.userInfo.username,\r\n\t\t\t\t\t\tpassword: this.userInfo.password\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlogin(params).then(res => {\r\n\t\t\t\t\t\tif(res.code == 1000) {\r\n\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\tmessage: '登陆成功',\r\n\t\t\t\t\t\t\t\ttype: 'success'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tvar that = this\r\n\t\t\t\t\t\t\tvar token = res.data.token\r\n\t\t\t\t\t\t\twindow.localStorage.setItem(\"user_token\",token)\r\n\t\t\t\t\t\t\tthis.getUserInfo()\r\n\t\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\t\tthat.$router.push(\"/\")\r\n\t\t\t\t\t\t\t},500)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$message.error(res.message);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tgetUserInfo() {\r\n            getUser().then(res => {\r\n                if(res.code == 1000) {\r\n\t\t\t\t\twindow.localStorage.setItem(\"user_info\",JSON.stringify(res.data))\r\n                }\r\n            })\r\n        },\r\n\t},\r\n\tcreated() {\r\n\r\n\t},\r\n\tmounted() {\r\n\r\n\t}\r\n }\r\n</script>\r\n\r\n<style scoped>\r\n  .login {\r\n\t  width: 100%;\r\n\t  height: 100%;\r\n\t  background-color: #FCFCFC;\r\n  }\r\n  .login-top {\r\n\t  width: 100%;\r\n\t  height: 100px;\r\n\t  display: flex;\r\n\t  flex-direction: row;\r\n\t  align-items: center;\r\n\t  justify-content: space-between;\r\n  }\r\n  .logo {\r\n\t  width: 30%;\r\n\t  text-align: center;\r\n\t  height: 100%;\r\n\t  display: flex;\r\n\t  align-items: center;\r\n  }\r\n  .btns {\r\n\t  width: 45%;\r\n\t  display: flex;\r\n\t  background-color: #ffffff;\r\n\t  height: 100%;\r\n\t  display: flex;\r\n\t  align-items: center;\r\n\t  justify-content: flex-end;\r\n  }\r\n  .toReg {\r\n\t  width: 130px;\r\n\t  height: 40px;\r\n\t  border:1px solid #474747;\r\n\t  font-family: '黑体';\r\n\t  cursor: pointer;\r\n\t  display: flex;\r\n\t  justify-content: center;\r\n\t  align-items: center;\r\n  }\r\n  .toRegTeacher {\r\n\t  margin-left: 20px;\r\n\t  width: 130px;\r\n\t  height: 40px;\r\n\t  border:1px solid #474747;\r\n\t  font-family: '黑体';\r\n\t  cursor: pointer;\r\n\t  display: flex;\r\n\t  justify-content: center;\r\n\t  align-items: center;\r\n  }\r\n  .login-center {\r\n\t  background-image: url('../../assets/image/index/index_back.png');\r\n\t  width: 100%;\r\n\t  height: 75%;\r\n\t  display: flex;\r\n\t  flex-direction: row;\r\n  }\r\n  .login-bottom {\r\n\t  width: 100%;\r\n\t  height: 250px;\r\n\t  background-color: #262543;\r\n\t  display: flex;\r\n  }\r\n  .login-content {\r\n\t  width: 55%;\r\n\t  height: 100%;\r\n\t  display: flex;\r\n\t  flex-direction: column;\r\n  }\r\n  .login-form {\r\n\t  background-image: url('../../assets/image/index/index_back.png');\r\n\t  position: relative;\r\n\t  display: flex;\r\n\t  justify-content: center;\r\n\t  width: 45%;\r\n\t  height: 100%;\r\n\t  background-color: #ffffff;\r\n  }\r\n  .title {\r\n\t  //font-weight: '黑体';\r\n\t  font-size: 55px;\r\n\t  font-weight: bold;\r\n  }\r\n  .jiantou1 {\r\n\t  position: absolute;\r\n\t  left: 10px;\r\n\t  top: 20px;\r\n  }\r\n  .jiantou2 {\r\n\t  position: absolute;\r\n\t  left: 10px;\r\n\t  bottom: 100px;\r\n  }\r\n  .yuan {\r\n\t  position: absolute;\r\n\t  right: 10px;\r\n\t  bottom: 200px;\r\n  }\r\n  .form {\r\n\t  width: 50%;\r\n\t  height: 70%;\r\n\t  display: flex;\r\n\t  flex-direction: column;\r\n\t  align-items: center;\r\n\t  justify-content: space-around;\r\n  }\r\n  .login-title {\r\n\t  font-size: 40px;\r\n\t  font-weight: bold;\r\n\t  height: 40%;\r\n\t  display: flex;\r\n\t  align-items: center;\r\n  }\r\n  .login-btn {\r\n\t  width: 130px;\r\n\t  height: 40px;\r\n\t  border:1px solid #FF5202;\r\n\t  background-color: #FF5202;\r\n\t  color: #ffffff;\r\n\t  font-size: 18px;\r\n\t  font-family: '黑体';\r\n\t  cursor: pointer;\r\n\t  display: flex;\r\n\t  justify-content: center;\r\n\t  align-items: center;\r\n  }\r\n  .bottom-one {\r\n\t  width: 34%;\r\n\t  height: 100%;\r\n\t  display: flex;\r\n\t  align-items: center;\r\n\t  justify-content: center;\r\n\t  flex-direction: column;\r\n  }\r\n  .bottom-two {\r\n\t  width: 25%;\r\n\t  height: 100%;\r\n\t  display: flex;\r\n\t  align-items: center;\r\n\t  justify-content: center;\r\n\t  flex-direction: column;\r\n  }\r\n  .bottom-three {\r\n\t  width: 25%;\r\n\t  height: 100%;\r\n\t  display: flex;\r\n\t  align-items: center;\r\n\t  justify-content: center;\r\n\t  flex-direction: column;\r\n  }\r\n  .bottom-four {\r\n\t  width: 25%;\r\n\t  height: 100%;\r\n\t  display: flex;\r\n\t  align-items: center;\r\n\t  justify-content: center;\r\n\t  flex-direction: column;\r\n  }\r\n  .one-1 {\r\n\t  font-size: 20px;\r\n\t  font-weight: bold;\r\n\t  color: #ffffff;\r\n  }\r\n  .one-2 {\r\n\t  margin-top: 15px;\r\n\t  font-size: 15px;\r\n\t  color: #ffffff;\r\n\t  font-family: '黑体';\r\n  }\r\n  .two-2 {\r\n\t  margin-top: 15px;\r\n\t  font-size: 20px;\r\n\t  color: #ffffff;\r\n\t  font-weight: bold;\r\n  }\r\n  .two-3 {\r\n\t  margin-top: 15px;\r\n\t  font-size: 15px;\r\n\t  color: #ffffff;\r\n\t  font-family: '黑体';\r\n  }\r\n\t.login-form {\r\n\t\tmargin-top: 40px;\r\n\t}\r\n\r\n</style>\r\n"],"mappings":";AAuEA,SAAAA,KAAA,EAAAC,OAAA;AACA,OAAAC,UAAA;AACA;EACAC,KAAA;IACA;MACAC,QAAA;QACAC,QAAA;QACAC,QAAA;MACA;MACAC,KAAA;QACAF,QAAA,GACA;UAAAG,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,EACA;QACAJ,QAAA,GACA;UAAAE,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;MAEA;IACA;EACA;EACAC,UAAA;IACAT;EACA;EACAU,OAAA;IACAC,WAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;IACA;IACAC,kBAAA;MACA,KAAAF,OAAA,CAAAC,IAAA;IACA;IACAE,QAAA;MACA,KAAAC,KAAA,aAAAC,QAAA,CAAAC,KAAA;QACA,IAAAA,KAAA;UACA,IAAAC,MAAA;YACAhB,QAAA,OAAAD,QAAA,CAAAC,QAAA;YACAC,QAAA,OAAAF,QAAA,CAAAE;UACA;UACAN,KAAA,CAAAqB,MAAA,EAAAC,IAAA,CAAAC,GAAA;YACA,IAAAA,GAAA,CAAAC,IAAA;cACA,KAAAC,QAAA;gBACAhB,OAAA;gBACAiB,IAAA;cACA;cACA,IAAAC,IAAA;cACA,IAAAC,KAAA,GAAAL,GAAA,CAAApB,IAAA,CAAAyB,KAAA;cACAC,MAAA,CAAAC,YAAA,CAAAC,OAAA,eAAAH,KAAA;cACA,KAAAI,WAAA;cACAC,UAAA;gBACAN,IAAA,CAAAb,OAAA,CAAAC,IAAA;cACA;YACA;cACA,KAAAU,QAAA,CAAAS,KAAA,CAAAX,GAAA,CAAAd,OAAA;YACA;UACA;QACA;UACA;QACA;MACA;IACA;IACAuB,YAAA;MACA/B,OAAA,GAAAqB,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACAK,MAAA,CAAAC,YAAA,CAAAC,OAAA,cAAAI,IAAA,CAAAC,SAAA,CAAAb,GAAA,CAAApB,IAAA;QACA;MACA;IACA;EACA;EACAkC,QAAA,GAEA;EACAC,QAAA,GAEA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}