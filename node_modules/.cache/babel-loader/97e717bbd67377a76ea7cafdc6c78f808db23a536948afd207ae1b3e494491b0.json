{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { getApeTaskPage, getApeClassificationList } from '../../api/api';\nimport headerPage from \"../../components/header/header\";\nimport bottomPage from \"../../components/bottom/bottom\";\nexport default {\n  data() {\n    return {\n      search: {\n        name: \"\",\n        state: 0,\n        teacherName: \"\",\n        major: \"\",\n        taskDescribe: \"\",\n        classification: \"\",\n        pageSize: 12,\n        pageNumber: 1,\n        type: 0\n      },\n      tableData: [],\n      classification: [],\n      total: 0\n    };\n  },\n  components: {\n    headerPage,\n    bottomPage\n  },\n  methods: {\n    searchPage() {\n      this.search.pageNumber = 1;\n      this.query();\n    },\n    searchClass(name) {\n      this.search.pageNumber = 1;\n      this.search.classification = name;\n      this.query();\n    },\n    query() {\n      getApeTaskPage(this.search).then(res => {\n        if (res.code == 1000) {\n          this.tableData = res.data.records;\n          this.total = res.data.total;\n        } else {\n          this.$notify.error({\n            title: '错误',\n            message: res.message\n          });\n        }\n      });\n    },\n    refresh() {\n      this.search = {\n        name: \"\",\n        teacherName: \"\",\n        major: \"\",\n        state: 0,\n        taskDescribe: \"\",\n        classification: \"\",\n        pageSize: 12,\n        pageNumber: 1,\n        type: 0\n      }, this.query();\n    },\n    handleCurrentChange(val) {\n      this.search.pageNumber = val;\n      this.query();\n    },\n    toTaskInfo(id) {\n      this.$router.push(\"taskInfo?id=\" + id);\n    },\n    getApeClassificationList() {\n      getApeClassificationList().then(res => {\n        if (res.code == 1000) {\n          this.classification = res.data;\n        } else {\n          this.$notify.error({\n            title: '错误',\n            message: res.message\n          });\n        }\n      });\n    }\n  },\n  created() {},\n  mounted() {\n    this.getApeClassificationList();\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n    var name = this.$route.query.name;\n    if (name) {\n      this.search.name = name;\n    }\n    var major = this.$route.query.major;\n    if (major) {\n      this.search.major = major;\n    }\n    this.query();\n  }\n};","map":{"version":3,"names":["getApeTaskPage","getApeClassificationList","headerPage","bottomPage","data","search","name","state","teacherName","major","taskDescribe","classification","pageSize","pageNumber","type","tableData","total","components","methods","searchPage","query","searchClass","then","res","code","records","$notify","error","title","message","refresh","handleCurrentChange","val","toTaskInfo","id","$router","push","created","mounted","window","scrollTo","top","behavior","$route"],"sources":["src/views/task/task.vue"],"sourcesContent":["<template>\r\n  <div class=\"task\">\r\n    <headerPage></headerPage>\r\n    <div class=\"task-page-content\">\r\n      <div class=\"task-page-search\">\r\n        <div class=\"task-search-item\">\r\n          <div>课程名称：</div>\r\n          <div>\r\n            <el-input size=\"mini\" v-model=\"search.name\" placeholder=\"请输入课程名称\"></el-input>\r\n          </div>\r\n        </div>\r\n        <div class=\"task-search-item\">\r\n          <div>教师名称：</div>\r\n          <div>\r\n            <el-input size=\"mini\" v-model=\"search.teacherName\" placeholder=\"请输入教师名称\"></el-input>\r\n          </div>\r\n        </div>\r\n        <div class=\"task-search-item\">\r\n          <div>专业名称：</div>\r\n          <div>\r\n            <el-input size=\"mini\" v-model=\"search.major\" placeholder=\"请输入专业名称\"></el-input>\r\n          </div>\r\n        </div>\r\n        <div class=\"task-search-item\">\r\n          <div>简介内容：</div>\r\n          <div>\r\n            <el-input size=\"mini\" v-model=\"search.taskDescribe\" placeholder=\"请输入课程简介内容\"></el-input>\r\n          </div>\r\n        </div>\r\n        <div class=\"task-search-item\">\r\n          <el-button icon=\"el-icon-search\" size=\"mini\" type=\"primary\" plain @click=\"searchPage()\">搜索</el-button>\r\n          <el-button icon=\"el-icon-refresh\" size=\"mini\" type=\"warning\" plain @click=\"refresh()\">重置</el-button>\r\n        </div>\r\n        <div class=\"task-search-item\" style=\"width:100%;flex-wrap: wrap;\">\r\n          <span style=\"margin-right:10px\">分类：</span>\r\n          <span class=\"task-search-type\" @click=\"searchClass(item.name)\" v-for=\"(item,index) in classification\" :key=\"index\">{{item.name}}</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"task-font\">课程列表</div>\r\n      <div class=\"task-page-list\">\r\n        <div @click=\"toTaskInfo(item.id)\" v-for=\"(item,index) in tableData\" :key=\"index\" class=\"task-page-item\">\r\n          <div class=\"task-page-image\">\r\n            <img style=\"width:100%;height:100%\" :src=\"$store.state.HOST + item.image\">\r\n          </div>\r\n          <div class=\"task-page-name\">\r\n            <div class=\"task-page-name-one\">{{item.name}}</div>\r\n            <div class=\"task-page-name-two\">{{item.taskDescribe}}</div>\r\n          </div>\r\n          <div class=\"task-page-user\">\r\n            <div>讲师：{{item.teacherName}}</div>\r\n            <div>\r\n              学生：\r\n              <i class=\"el-icon-star-off\"></i>\r\n              {{item.num}}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"task-page-fenye\">\r\n        <el-pagination\r\n          background\r\n          :page-size=\"search.pageSize\"\r\n          layout=\"prev, pager, next\"\r\n          @current-change=\"handleCurrentChange\"\r\n          :total=\"total\">\r\n        </el-pagination>\r\n      </div>\r\n    </div>\r\n    <div class=\"task-page-bottom\">\r\n      \r\n    </div>\r\n    <bottomPage></bottomPage>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {getApeTaskPage,getApeClassificationList} from '../../api/api' \r\n  import headerPage from \"../../components/header/header\"\r\n  import bottomPage from \"../../components/bottom/bottom\"\r\n  export default {\r\n    data() {\r\n      return{\r\n        search: {\r\n          name: \"\",\r\n          state: 0,\r\n          teacherName: \"\",\r\n          major: \"\",\r\n          taskDescribe: \"\",\r\n          classification: \"\",\r\n          pageSize: 12,\r\n          pageNumber: 1,\r\n          type: 0,\r\n        },\r\n        tableData: [],\r\n        classification: [],\r\n        total: 0\r\n      }\r\n    },\r\n    components: {\r\n      headerPage,\r\n      bottomPage\r\n    },\r\n    methods: {\r\n      searchPage() {\r\n        this.search.pageNumber = 1\r\n        this.query()\r\n      },\r\n      searchClass(name) {\r\n        this.search.pageNumber = 1\r\n        this.search.classification = name\r\n        this.query()\r\n      },\r\n      query() {\r\n        getApeTaskPage(this.search).then(res => {\r\n          if(res.code == 1000) {\r\n            this.tableData = res.data.records\r\n            this.total = res.data.total\r\n          } else {\r\n            this.$notify.error({\r\n              title: '错误',\r\n              message: res.message\r\n            });\r\n          }\r\n        })\r\n      },\r\n      refresh() {\r\n        this.search = {\r\n          name: \"\",\r\n          teacherName: \"\",\r\n          major: \"\",\r\n          state: 0,\r\n          taskDescribe: \"\",\r\n          classification: \"\",\r\n          pageSize: 12,\r\n          pageNumber: 1,\r\n          type: 0,\r\n        },\r\n        this.query()\r\n      },\r\n      handleCurrentChange(val) {\r\n        this.search.pageNumber = val\r\n        this.query()\r\n      }, \r\n      toTaskInfo(id) {\r\n        this.$router.push(\"taskInfo?id=\" + id)\r\n      },\r\n      getApeClassificationList() {\r\n        getApeClassificationList().then(res => {\r\n            if(res.code == 1000) {\r\n                this.classification = res.data\r\n            } else {\r\n                this.$notify.error({\r\n                title: '错误',\r\n                message: res.message\r\n                });\r\n            }\r\n        })\r\n      }\r\n    },\r\n    created() {\r\n     \r\n    },\r\n    mounted() {\r\n      this.getApeClassificationList()\r\n      window.scrollTo({\r\n        top: 0,\r\n        behavior: 'smooth'\r\n      });\r\n      var name = this.$route.query.name\r\n      if (name) {\r\n        this.search.name = name\r\n      }\r\n      var major = this.$route.query.major\r\n      if (major) {\r\n        this.search.major = major\r\n      }\r\n      this.query()\r\n    }\r\n }\r\n</script>\r\n\r\n<style scoped>\r\n  @import url(\"../../assets/css/task/task.css\");\r\n</style>"],"mappings":";AA4EA,SAAAA,cAAA,EAAAC,wBAAA;AACA,OAAAC,UAAA;AACA,OAAAC,UAAA;AACA;EACAC,KAAA;IACA;MACAC,MAAA;QACAC,IAAA;QACAC,KAAA;QACAC,WAAA;QACAC,KAAA;QACAC,YAAA;QACAC,cAAA;QACAC,QAAA;QACAC,UAAA;QACAC,IAAA;MACA;MACAC,SAAA;MACAJ,cAAA;MACAK,KAAA;IACA;EACA;EACAC,UAAA;IACAf,UAAA;IACAC;EACA;EACAe,OAAA;IACAC,WAAA;MACA,KAAAd,MAAA,CAAAQ,UAAA;MACA,KAAAO,KAAA;IACA;IACAC,YAAAf,IAAA;MACA,KAAAD,MAAA,CAAAQ,UAAA;MACA,KAAAR,MAAA,CAAAM,cAAA,GAAAL,IAAA;MACA,KAAAc,KAAA;IACA;IACAA,MAAA;MACApB,cAAA,MAAAK,MAAA,EAAAiB,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACA,KAAAT,SAAA,GAAAQ,GAAA,CAAAnB,IAAA,CAAAqB,OAAA;UACA,KAAAT,KAAA,GAAAO,GAAA,CAAAnB,IAAA,CAAAY,KAAA;QACA;UACA,KAAAU,OAAA,CAAAC,KAAA;YACAC,KAAA;YACAC,OAAA,EAAAN,GAAA,CAAAM;UACA;QACA;MACA;IACA;IACAC,QAAA;MACA,KAAAzB,MAAA;QACAC,IAAA;QACAE,WAAA;QACAC,KAAA;QACAF,KAAA;QACAG,YAAA;QACAC,cAAA;QACAC,QAAA;QACAC,UAAA;QACAC,IAAA;MACA,GACA,KAAAM,KAAA;IACA;IACAW,oBAAAC,GAAA;MACA,KAAA3B,MAAA,CAAAQ,UAAA,GAAAmB,GAAA;MACA,KAAAZ,KAAA;IACA;IACAa,WAAAC,EAAA;MACA,KAAAC,OAAA,CAAAC,IAAA,kBAAAF,EAAA;IACA;IACAjC,yBAAA;MACAA,wBAAA,GAAAqB,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACA,KAAAb,cAAA,GAAAY,GAAA,CAAAnB,IAAA;QACA;UACA,KAAAsB,OAAA,CAAAC,KAAA;YACAC,KAAA;YACAC,OAAA,EAAAN,GAAA,CAAAM;UACA;QACA;MACA;IACA;EACA;EACAQ,QAAA,GAEA;EACAC,QAAA;IACA,KAAArC,wBAAA;IACAsC,MAAA,CAAAC,QAAA;MACAC,GAAA;MACAC,QAAA;IACA;IACA,IAAApC,IAAA,QAAAqC,MAAA,CAAAvB,KAAA,CAAAd,IAAA;IACA,IAAAA,IAAA;MACA,KAAAD,MAAA,CAAAC,IAAA,GAAAA,IAAA;IACA;IACA,IAAAG,KAAA,QAAAkC,MAAA,CAAAvB,KAAA,CAAAX,KAAA;IACA,IAAAA,KAAA;MACA,KAAAJ,MAAA,CAAAI,KAAA,GAAAA,KAAA;IACA;IACA,KAAAW,KAAA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}