{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { getUserPage, getApeSchoolList } from '../../api/api';\nimport headerPage from \"../../components/header/header\";\nimport bottomPage from \"../../components/bottom/bottom\";\nexport default {\n  data() {\n    return {\n      search: {\n        userName: \"\",\n        userType: 1,\n        school: \"\",\n        pageSize: 12,\n        pageNumber: 1\n      },\n      tableData: [],\n      school: [],\n      total: 0\n    };\n  },\n  components: {\n    headerPage,\n    bottomPage\n  },\n  methods: {\n    searchPage() {\n      this.search.pageNumber = 1;\n      this.query();\n    },\n    searchSchool(name) {\n      this.search.pageNumber = 1;\n      this.search.school = name;\n      this.query();\n    },\n    query() {\n      getUserPage(this.search).then(res => {\n        if (res.code == 1000) {\n          this.tableData = res.data.records;\n          this.total = res.data.total;\n        } else {\n          this.$notify.error({\n            title: '错误',\n            message: res.message\n          });\n        }\n      });\n    },\n    refresh() {\n      this.search = {\n        userName: \"\",\n        userType: 1,\n        school: \"\",\n        pageSize: 12,\n        pageNumber: 1\n      }, this.query();\n    },\n    handleCurrentChange(val) {\n      this.search.pageNumber = val;\n      this.query();\n    },\n    toTeacherInfo(id) {\n      this.$router.push(\"/teacherInfo?id=\" + id);\n    },\n    getApeSchoolList() {\n      getApeSchoolList().then(res => {\n        if (res.code == 1000) {\n          this.school = res.data;\n        } else {\n          this.$notify.error({\n            title: '错误',\n            message: res.message\n          });\n        }\n      });\n    }\n  },\n  created() {},\n  mounted() {\n    this.getApeSchoolList();\n    this.query();\n  }\n};","map":{"version":3,"names":["getUserPage","getApeSchoolList","headerPage","bottomPage","data","search","userName","userType","school","pageSize","pageNumber","tableData","total","components","methods","searchPage","query","searchSchool","name","then","res","code","records","$notify","error","title","message","refresh","handleCurrentChange","val","toTeacherInfo","id","$router","push","created","mounted"],"sources":["src/views/teacher/teacher.vue"],"sourcesContent":["<template>\r\n  <div class=\"teacher\"> \r\n    <headerPage></headerPage>\r\n    <div class=\"teacher-page-content\">\r\n        <div class=\"teacher-page-search\">\r\n            <div style=\"width:40%;font-family:'黑体';display:flex;align-items:center;margin-top:15px;margin-left:10px;margin-bottom:10px\">\r\n                <div>教师名称：</div>\r\n                <div>\r\n                  <el-input size=\"mini\" v-model=\"search.userName\" placeholder=\"请输入教师名称\"></el-input>\r\n                </div>\r\n            </div>\r\n            <div class=\"teacher-page-btns\">\r\n                <el-button icon=\"el-icon-search\" size=\"mini\" type=\"primary\" plain @click=\"searchPage()\">搜索</el-button>\r\n                <el-button icon=\"el-icon-refresh\" size=\"mini\" type=\"warning\" plain @click=\"refresh()\">重置</el-button>\r\n            </div>\r\n            <div style=\"margin-left:10px;margin-bottom:20px;font-family:'黑体';width:100%;display:flex;flex-wrap: wrap;\">\r\n              <span style=\"margin-right:10px\">学校：</span>\r\n              <span class=\"task-search-type\" @click=\"searchSchool(item.name)\" v-for=\"(item,index) in school\" :key=\"index\">{{item.name}}</span>\r\n            </div>\r\n        </div>\r\n        <div class=\"teacher-page-title\">\r\n            教师列表\r\n        </div>\r\n        <div class=\"teacher-page-list\">\r\n            <div @click=\"toTeacherInfo(item.id)\" v-for=\"(item,index) in tableData\" :key=\"index\" class=\"teacher-page-item\">\r\n                <img style=\"width:100%;height:80%\" :src=\"$store.state.HOST + item.avatar\">\r\n                <div class=\"teacher-page-name\">\r\n                    <div style=\"margin-left:10px\">{{item.userName}}</div>\r\n                    <div style=\"margin-right:10px\"><i class=\"el-icon-news\"></i>{{item.school}}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"teacher-page-fenye\">\r\n            <el-pagination\r\n            background\r\n            :page-size=\"search.pageSize\"\r\n            layout=\"prev, pager, next\"\r\n            @current-change=\"handleCurrentChange\"\r\n            :total=\"total\">\r\n            </el-pagination>\r\n        </div>\r\n        <div class=\"teacher-bottom-image\">\r\n\r\n        </div>\r\n    </div>\r\n    <bottomPage></bottomPage>\r\n  </div>\r\n</template>\r\n\r\n<script> \r\n  import {getUserPage,getApeSchoolList} from '../../api/api' \r\n  import headerPage from \"../../components/header/header\"\r\n  import bottomPage from \"../../components/bottom/bottom\"\r\n  export default {\r\n    data() {\r\n      return{\r\n        search: {\r\n            userName: \"\",\r\n            userType: 1,\r\n            school: \"\",\r\n            pageSize: 12,\r\n            pageNumber: 1\r\n        },\r\n        tableData: [],\r\n        school: [],\r\n        total: 0\r\n      }\r\n    },\r\n    components: {\r\n      headerPage,\r\n      bottomPage\r\n    },\r\n    methods: {\r\n        searchPage() {\r\n          this.search.pageNumber = 1\r\n          this.query()\r\n        },\r\n        searchSchool(name) {\r\n          this.search.pageNumber = 1\r\n          this.search.school = name\r\n          this.query()\r\n        },\r\n        query() {\r\n          getUserPage(this.search).then(res => {\r\n            if(res.code == 1000) {\r\n              this.tableData = res.data.records\r\n              this.total = res.data.total\r\n            } else {\r\n              this.$notify.error({\r\n                title: '错误',\r\n                message: res.message\r\n              });\r\n            }\r\n          })\r\n        },\r\n        refresh() {\r\n          this.search = {\r\n            userName: \"\",\r\n            userType: 1,\r\n            school: \"\",\r\n            pageSize: 12,\r\n            pageNumber: 1\r\n          },\r\n          this.query()\r\n        },\r\n        handleCurrentChange(val) {\r\n          this.search.pageNumber = val\r\n          this.query()\r\n        },\r\n        toTeacherInfo(id) {\r\n          this.$router.push(\"/teacherInfo?id=\" + id)\r\n        },\r\n        getApeSchoolList() {\r\n          getApeSchoolList().then(res => {\r\n              if(res.code == 1000) {\r\n                  this.school = res.data\r\n              } else {\r\n                  this.$notify.error({\r\n                  title: '错误',\r\n                  message: res.message\r\n                  });\r\n              }\r\n          })\r\n        }\r\n    },\r\n    created() {\r\n     \r\n    },\r\n    mounted() {\r\n      this.getApeSchoolList()\r\n      this.query()\r\n    }\r\n }\r\n</script>\r\n\r\n<style scoped>\r\n  @import url(\"../../assets/css/teacher/teacher.css\");\r\n</style>"],"mappings":";AAkDA,SAAAA,WAAA,EAAAC,gBAAA;AACA,OAAAC,UAAA;AACA,OAAAC,UAAA;AACA;EACAC,KAAA;IACA;MACAC,MAAA;QACAC,QAAA;QACAC,QAAA;QACAC,MAAA;QACAC,QAAA;QACAC,UAAA;MACA;MACAC,SAAA;MACAH,MAAA;MACAI,KAAA;IACA;EACA;EACAC,UAAA;IACAX,UAAA;IACAC;EACA;EACAW,OAAA;IACAC,WAAA;MACA,KAAAV,MAAA,CAAAK,UAAA;MACA,KAAAM,KAAA;IACA;IACAC,aAAAC,IAAA;MACA,KAAAb,MAAA,CAAAK,UAAA;MACA,KAAAL,MAAA,CAAAG,MAAA,GAAAU,IAAA;MACA,KAAAF,KAAA;IACA;IACAA,MAAA;MACAhB,WAAA,MAAAK,MAAA,EAAAc,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACA,KAAAV,SAAA,GAAAS,GAAA,CAAAhB,IAAA,CAAAkB,OAAA;UACA,KAAAV,KAAA,GAAAQ,GAAA,CAAAhB,IAAA,CAAAQ,KAAA;QACA;UACA,KAAAW,OAAA,CAAAC,KAAA;YACAC,KAAA;YACAC,OAAA,EAAAN,GAAA,CAAAM;UACA;QACA;MACA;IACA;IACAC,QAAA;MACA,KAAAtB,MAAA;QACAC,QAAA;QACAC,QAAA;QACAC,MAAA;QACAC,QAAA;QACAC,UAAA;MACA,GACA,KAAAM,KAAA;IACA;IACAY,oBAAAC,GAAA;MACA,KAAAxB,MAAA,CAAAK,UAAA,GAAAmB,GAAA;MACA,KAAAb,KAAA;IACA;IACAc,cAAAC,EAAA;MACA,KAAAC,OAAA,CAAAC,IAAA,sBAAAF,EAAA;IACA;IACA9B,iBAAA;MACAA,gBAAA,GAAAkB,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACA,KAAAb,MAAA,GAAAY,GAAA,CAAAhB,IAAA;QACA;UACA,KAAAmB,OAAA,CAAAC,KAAA;YACAC,KAAA;YACAC,OAAA,EAAAN,GAAA,CAAAM;UACA;QACA;MACA;IACA;EACA;EACAQ,QAAA,GAEA;EACAC,QAAA;IACA,KAAAlC,gBAAA;IACA,KAAAe,KAAA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}